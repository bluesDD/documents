---
Title: FAQ・プラン上限超過時のホスト台数換算について
Date: 2017-11-22T11:49:46+09:00
URL: https://mackerel.io/ja/docs/entry/faq/contracts/limit-exceeded-conversion
EditURL: https://blog.hatena.ne.jp/mackerelio/mackerelio-docs-ja.hatenablog.mackerel.io/atom/entry/8599973812319473392
---

各種項目数がプラン上限を超えている場合、それぞれ以下の計算により、追加のホスト台数として換算されます。端数は全て切り上げとなります。

* ホストメトリック
    * `超過数 ÷プラン上限（Standardプランの場合200）`
    * 上限を超過している全てのホストに対して計算されます
    * あるホストのホストメトリック数は以下の式で求められます
        * `標準メトリック数 + カスタムメトリック数 + チェック監視数`
* サービスメトリック
    * `超過数 ÷プラン上限（Standardプランの場合200）`
* 外形監視
    * `超過数 ÷プラン上限（Standardプランの場合20）`

## 例: Standardプランご利用の場合

Standardプランの項目の上限はそれぞれ、ホストメトリックは200、サービスメトリックは200、外形監視項目数は20となっています。

以下、2つのご利用パターンを例示します。

### ご利用パターンA

| パターンA          | 設定数 | 超過数 | 上限を超過したことによるホスト台数に換算された台数 |
|--------------------|-------:|-------:|---------:|
| ホストA メトリック |    180 |      0 |        0 |
| ホストB メトリック |    180 |      0 |        0 |
| ホストC メトリック |    180 |      0 |        0 |
| サービスメトリック |     90 |      0 |        0 |
| 外形監視           |     19 |      0 |        0 |

この場合、ホスト数はA,B,Cの3台であり、超過項目も無いため、総ホスト数もそのまま3台としてカウントされます。

### ご利用パターンB

| パターンB          | 設定数 | 超過数 | 上限を超過したことによるホスト台数に換算された台数 |
|--------------------|-------:|-------:|---------:|
| ホストA メトリック |    401 |    201 |        2 |
| ホストB メトリック |    180 |      0 |        0 |
| ホストC メトリック |    180 |      0 |        0 |
| サービスメトリック |    240 |    40 |        1 |
| 外形監視           |     30 |     10 |        1 |

この場合、ホスト数はA,B,Cの3台に加え、上限を超過したことによるホスト台数に換算された台数が 2+1+1=4台あるため、合計7台としてカウントされます。

---

[< FAQに戻る](https://mackerel.io/ja/docs/entry/faq)
